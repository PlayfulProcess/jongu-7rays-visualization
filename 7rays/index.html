<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seven Rays & Seven Planes - Interactive Visualization</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0d1421 0%, #1a1a2e 50%, #16213e 100%);
            color: #e0e6ed;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3rem;
            background: linear-gradient(45deg, #ffd700, #ff6b6b, #4ecdc4, #45b7d1);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 4s ease-in-out infinite;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.8;
            margin-bottom: 20px;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        select, button {
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #e0e6ed;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        select:hover, button:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .visualization-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .vis-panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .vis-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            text-align: center;
            color: #ffd700;
        }

        #rayChart, #planeChart {
            width: 100%;
            height: 400px;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.2);
        }

        .relationship-matrix {
            grid-column: 1 / -1;
            margin-top: 20px;
        }

        #relationshipMatrix {
            width: 100%;
            height: 500px;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.2);
        }

        .info-panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .info-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .info-section h3 {
            color: #4ecdc4;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .info-section p {
            line-height: 1.6;
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 12px;
            border-radius: 8px;
            font-size: 12px;
            pointer-events: none;
            max-width: 300px;
            line-height: 1.4;
            z-index: 1000;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        }

        @media (max-width: 768px) {
            .visualization-area {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }

        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.6; }
            50% { opacity: 1; }
            100% { opacity: 0.6; }
        }

        .fourth-emphasis {
            filter: drop-shadow(0 0 10px #00ff00) brightness(1.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Seven Rays & Seven Planes</h1>
            <p>Interactive Visualization of Dynamic Esoteric Relationships</p>
            <p><em>Based on Alice Bailey's Teachings - No Static Mappings, Only Living Relationships</em></p>
        </div>

        <div class="controls">
            <div class="control-group">
                <label>Evolutionary Context:</label>
                <select id="contextSelect">
                    <option value="human">Human Kingdom</option>
                    <option value="spiritual">Spiritual Development</option>
                    <option value="animal">Animal Kingdom</option>
                </select>
            </div>
            <div class="control-group">
                <label>Cycle Phase:</label>
                <select id="cycleSelect">
                    <option value="balanced">Balanced</option>
                    <option value="outgoing">Outgoing (Manifestation)</option>
                    <option value="incoming">Incoming (Spiritualization)</option>
                </select>
            </div>
            <div class="control-group">
                <button id="fourthEmphasisBtn">Toggle Fourth Emphasis</button>
                <button id="animateBtn">Animate Relationships</button>
            </div>
        </div>

        <div class="visualization-area">
            <div class="vis-panel">
                <div class="vis-title">Seven Rays - Qualities of Divine Energy</div>
                <div id="rayChart"></div>
            </div>

            <div class="vis-panel">
                <div class="vis-title">Seven Planes - Levels of Consciousness</div>
                <div id="planeChart"></div>
            </div>

            <div class="vis-panel relationship-matrix">
                <div class="vis-title">Dynamic Relationship Matrix</div>
                <div id="relationshipMatrix"></div>
            </div>
        </div>

        <div class="info-panel">
            <div class="info-content" id="infoContent">
                <div class="info-section">
                    <h3>About This Visualization</h3>
                    <p>This interactive system explores the dynamic relationships between the Seven Rays (divine qualities) and Seven Planes (levels of consciousness) as taught by Alice Bailey. Unlike static correspondences, these relationships shift based on evolutionary context, consciousness level, and cosmic cycles.</p>
                </div>
                <div class="info-section">
                    <h3>Fourth Emphasis</h3>
                    <p>Special attention is given to the 4th Ray (Harmony through Conflict) and 4th Plane (Buddhic/Intuitional), which serve as bridges between spirit and matter, representing humanity{`s`} unique role as mediator between higher and lower kingdoms.</p>
                </div>
                <div class="info-section">
                    <h3>Dynamic Nature</h3>
                    <p>The visualization demonstrates that esoteric relationships are living, breathing connections that change based on consciousness level, evolutionary stage, and cosmic rhythms - reflecting the true complexity of spiritual development.</p>
                </div>
            </div>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #ff0000;"></div>
                <span>Strong Relationship (0.8+)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #ffaa00;"></div>
                <span>Moderate Relationship (0.5-0.8)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #0088ff;"></div>
                <span>Subtle Resonance (0.2-0.5)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #888888;"></div>
                <span>Minimal Connection (0-0.2)</span>
            </div>
        </div>
    </div>

    <div class="tooltip" id="tooltip" style="display: none;"></div>

    <script src="visualization.js"></script>
</body>
</html>